<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Tela de Cadastro - Droga +</title>
    
    <link rel="icon" type="image/x-icon" href="assets/logo.png" />
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />

    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.3.2/mdb.min.css" rel="stylesheet" />
    <style>
       body {
           background-color: #f8f9fa;
       }
       .divider {
           display: flex;
           align-items: center;
           text-align: center;
       }
       .divider::before,
       .divider::after {
           content: "";
           flex: 1;
           height: 1px;
           background: #eee;
       }
       .card {
           border: none;
           box-shadow: 0 4px 8px rgba(0,0,0,0.1);
       }
       .btn-danger-custom {
           background-color: #b21f2d;
           border-color: #b21f2d;
       }
       .btn-danger-custom:hover,
       .btn-danger-custom:focus {
           background-color: #9c1f2d;
           border-color: #9c1f2d;
       }
       
       .search-form {
           flex-grow: 1;
           max-width: 500px;
           margin: 0 1rem;
       }
       .search-input {
           border-radius: 25px !important;
           border: 2px solid #e0e0e0;
           padding: 8px 20px;
           font-size: 16px;
           width: 100%;
           transition: all 0.3s ease;
       }
       .search-input:focus {
           border-color: #007bff;
           box-shadow: 0 4px 12px rgba(0,123,255,0.2);
           outline: none;
       }
       .search-input::placeholder {
           color: #999;
           font-weight: 400;
       }
       @media (max-width: 991px) {
           .search-form {
               order: 3;
               margin: 1rem 0 0.5rem 0;
               width: 100%;
           }
       }
    </style>
</head>

<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container px-4 px-lg-5">
          <img src="assets/logo.png" alt="Company Logo" height="50">
          <a class="navbar-brand" href="index.html">Droga +</a>
          
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
          
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                  <li class="nav-item"><a class="nav-link" href="index.html">Início</a></li>
                  <li class="nav-item"><a class="nav-link" href="login.html">Entrar/Cadastrar</a></li>
                  <li class="nav-item"><a class="nav-link" href="cadastrofornecedor.html">Cadastrar Fornecedor</a></li>
                  <li class="nav-item"><a class="nav-link" href="contato.html">Contate-nos</a></li>
              </ul>

              <form class="d-flex search-form" role="search">
                  <input class="form-control search-input" type="search" placeholder="O que deseja procurar?" aria-label="Search">
              </form>
              
              <form class="d-flex">
                  <a href="carrinho.html" class="btn btn-outline-dark">
                      <i class="bi bi-cart-fill me-1"></i> Carrinho
                      <span class="badge bg-dark text-white ms-1 rounded-pill">0</span>
                  </a>
              </form>
          </div>
      </div>
  </nav>

  <section class="d-flex align-items-center justify-content-center" style="min-height: calc(100vh - 82px);">
    <div class="container py-5">
      <div class="row d-flex justify-content-center">
        <div class="col-12 col-md-8 col-lg-6 col-xl-5">
            <div class="card p-4">
                <div class="card-body">
                    <h2 class="fw-bold mb-4 text-center text-danger"><i class="fas fa-user me-2"></i>Crie sua conta</h2>
        
                    <form class="needs-validation" >
                      
                      <div class="mb-3">
                        <label for="formName" class="form-label">Nome Completo</label>
                        <input type="text" class="form-control" id="formName" placeholder="Seu nome completo" required>
                        <div class="valid-feedback">
                          Perfeito!
                        </div>
                        <div class="invalid-feedback">
                          Por favor, insira seu nome completo.
                        </div>
                      </div>
                   
                      <div class="mb-3">
                        <label for="cpf" class="form-label">CPF</label>
                        <input type="text" class="form-control" id="cpf" placeholder="999.999.999-99" oninput="mCpf(event)" maxlength="14">
                        <div class="valid-feedback">
                          Perfeito!
                        </div>
                        <div class="invalid-feedback">
                          Por favor, insira um CPF válido.
                        </div>
                      </div>

                      <div class="mb-3">
                        <label for="telefone" class="form-label">Telefone</label>
                        <input type="text" class="form-control" id="telefone" placeholder="(99)99999-9999" oninput="mTel(event)" maxlength="14"required>
                        <div class="valid-feedback">
                          Perfeito!
                        </div>
                        <div class="invalid-feedback">
                          Por favor, insira um telefone válido.
                        </div>
                      </div>

                      <div class="mb-3">
                        <label for="formBirthDate" class="form-label">Data de Nascimento</label>
                        <input type="date" class="form-control" id="formBirthDate" required>
                        <div class="valid-feedback">
                          Perfeito!
                        </div>
                        <div class="invalid-feedback">
                          Por favor, insira sua data de nascimento.
                        </div>
                      </div>
                      
                      <div class="mb-3">
                        <label for="formEmail" class="form-label">Email</label>
                        <input type="email" class="form-control" id="formEmail" placeholder="seuemail@exemplo.com" required>
                        <div class="valid-feedback">
                          Perfeito!
                        </div>
                        
                        <div class="invalid-feedback">
                          Por favor, insira um email válido.
                      </div>
                      
                      </div>

                      <div class="mb-3">
                        <label for="formPassword" class="form-label">Senha</label>
                        <input type="password" class="form-control" id="formPassword" placeholder="Crie uma senha forte" minlength="6" required>
                        <div class="valid-feedback">
                          Perfeito!
                        </div>
                        <div class="invalid-feedback">
                          Por favor, insira uma senha com no mínimo 6 caracteres.
                        </div>
                      </div>

                      <div class="mb-3">
                        <label for="formConfirmPassword" class="form-label">Confirmar Senha</label>
                        <input type="password" class="form-control" id="formConfirmPassword" placeholder="Repita a senha" required>
                        <div class="valid-feedback">
                          Perfeito!
                        </div>
                        <div class="invalid-feedback">
                          As senhas não coincidem.
                        </div>
                      </div>

                      <div class="mb-3">
                        
                        <h6 class="fw-bold mb-2">Gênero</h6>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="gender" id="femaleGender" value="feminino" required>
                          <label class="form-check-label" for="femaleGender">
                            Feminino
                          </label>
                        </div>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="gender" id="maleGender" value="masculino" required>
                          <label class="form-check-label" for="maleGender">
                            Masculino
                          </label>
                          <div class="invalid-feedback">
                            Por favor, selecione um gênero.
                          </div>
                        </div>
                      </div>

                      <div class="mb-3">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="formTerms" required>
                          <label class="form-check-label" for="formTerms">
                            Eu li e aceito os <a href="#!">termos de serviço</a>
                          </label>
                          <div class="invalid-feedback">
                            Você deve aceitar os termos de serviço antes de continuar.
                          </div>
                        </div>
                      </div>

                      <button type="submit" class="btn btn-danger btn-lg w-100 mb-3 btn-danger-custom">Cadastrar <a href="index.html"></a></button>

                      <div class="divider d-flex align-items-center my-3">
                        <p class="text-center fw-bold mx-3 mb-0 text-muted">OU</p>
                      </div>

                      <div class="text-center mt-3">
                        <p>Já tem uma conta? <a href="login.html">Faça login</a></p>
                      </div>

                    </form>
                </div>
            </div>
        </div>
      </div>
    </div>
  </section>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.3.2/mdb.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <script src="js/scripts.js">
    function mCpf(event) {
      var cpf = event.target.value;
      cpf = cpf.replace(/\D/g, "");
      cpf = cpf.replace(/(\d{3})(\d)/, "$1.$2");
      cpf = cpf.replace(/(\d{3})(\d)/, "$1.$2");
      cpf = cpf.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
      event.target.value = cpf;
    }
    
    function mTel(event) {
      var tel = event.target.value;
      tel = tel.replace(/\D/g, "");
      tel = tel.replace(/^(\d)/, "($1");
      tel = tel.replace(/(.{3})(\d)/, "$1)$2");
      if (tel.length === 9) tel = tel.replace(/(.{1})$/, "-$1");
      else if (tel.length === 10) tel = tel.replace(/(.{2})$/, "-$1");
      else if (tel.length === 11) tel = tel.replace(/(.{3})$/, "-$1");
      else if (tel.length >= 12) tel = tel.replace(/(.{4})$/, "-$1");
      event.target.value = tel;
    }
    
    function validarCPF(cpf) {
      cpf = cpf.replace(/[^\d]+/g, '');
      
      if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) {
        return false;
      }
      
      var soma = 0, resto;
      for (var i = 1; i <= 9; i++) soma += parseInt(cpf.substring(i-1, i)) * (11 - i);
      resto = (soma * 10) % 11;
      if (resto === 10 || resto === 11) resto = 0;
      if (resto !== parseInt(cpf.substring(9, 10))) return false;
      
      soma = 0;
      for (var i = 1; i <= 10; i++) soma += parseInt(cpf.substring(i-1, i)) * (12 - i);
      resto = (soma * 10) % 11;
      if (resto === 10 || resto === 11) resto = 0;
      if (resto !== parseInt(cpf.substring(10, 11))) return false;
      
      return true;
    }

    (function() {
      'use strict'
      
      const forms = document.querySelectorAll('.needs-validation')
      
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          event.preventDefault()
          event.stopPropagation()
          
          let isValid = true;
          
          const cpfInput = document.getElementById('cpf');
          const cpfValue = cpfInput.value.replace(/[^\d]+/g, '');
          if (cpfValue.length > 0 && !validarCPF(cpfValue)) {
            cpfInput.setCustomValidity('CPF inválido');
            isValid = false;
          } else {
            cpfInput.setCustomValidity('');
          }
          
          const telefoneInput = document.getElementById('telefone');
          const telefoneValue = telefoneInput.value.replace(/\D/g, '');
          if (telefoneValue.length > 0 && telefoneValue.length < 10) {
            telefoneInput.setCustomValidity('Telefone deve ter pelo menos 10 dígitos');
            isValid = false;
          } else {
            telefoneInput.setCustomValidity('');
          }
          
          const senha = document.getElementById('formPassword').value;
          const confirmSenha = document.getElementById('formConfirmPassword');
          if (confirmSenha.value !== senha) {
            confirmSenha.setCustomValidity('As senhas não coincidem');
            isValid = false;
          } else {
            confirmSenha.setCustomValidity('');
          }
          
          if (!form.checkValidity() || !isValid) {
            form.classList.add('was-validated')
            return false;
          }
          
          form.classList.add('was-validated')
          
          alert('Cadastro realizado com sucesso!');
          form.reset();
          form.classList.remove('was-validated');
          
        }, false)
      })
      
      document.getElementById('cpf').addEventListener('blur', function() {
        const cpfValue = this.value.replace(/[^\d]+/g, '');
        if (cpfValue.length > 0 && !validarCPF(cpfValue)) {
          this.setCustomValidity('CPF inválido');
        } else {
          this.setCustomValidity('');
        }
      });
      
      document.getElementById('formConfirmPassword').addEventListener('input', function() {
        const senha = document.getElementById('formPassword').value;
        if (this.value !== senha) {
          this.setCustomValidity('As senhas não coincidem');
        } else {
          this.setCustomValidity('');
        }
      });
      
    })()
  </script>
</body>
</html>